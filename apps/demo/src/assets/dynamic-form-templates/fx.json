{
  "fields": [{
    "key": "underlying",
    "type": "group",
    "expressions": {
      "label": "model.currencyPair ? `Underlying for ${ model.currencyPair }` : 'Underlying'"
    },
    "fields": [{
      "key": "currencyPair",
      "type": "control",
      "label": "Currency pair",
      "input": {
        "type": "dropdown",
        "placeholder": "Select the currency pair",
        "options": [
          { "value": "EURUSD", "label": "EUR/USD" },
          { "value": "EURGBP", "label": "EUR/GBP" }
        ]
      },
      "validation": {
        "required": true
      }
    }, {
      "key": "notionalCurrency",
      "type": "control",
      "label": "Notional Currency",
      "expressions": {
        "input.options": "(function(currencyPair) { if (currencyPair) { var underlying = currencyPair.substring(0,3); var accounting = currencyPair.substring(3,6); return [ { 'value': underlying, 'label': underlying }, { 'value': accounting, 'label': accounting }]; } return []; })(parentModel.currencyPair)"
      },
      "input": {
        "type": "dropdown",
        "placeholder": "Select the notional currency"
      },
      "validation": {
        "required": true
      }
    }, {
      "key": "notional",
      "type": "control",
      "label": "Notional",
      "input": {
        "type": "numberbox",
        "placeholder": "Enter the notional",
        "min": 0,
        "max": 20
      },
      "validation": {
        "required": true,
        "min": true,
        "max": true
      }
    }]
  }]
}